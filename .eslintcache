[{"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/index.js":"1","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/App.js":"2","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/store.js":"3","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/reducers/index.js":"4","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/router/index.js":"5","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/actions/index.js":"6","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/layout/loadingbar.jsx":"7","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Chat/index.jsx":"8","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Auth/index.jsx":"9","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/common/utils.js":"10","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/layout/Element.jsx":"11","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/services/index.js":"12","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/common/callApi.js":"13","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Chat/components/Users.jsx":"14","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Chat/components/Conversations.jsx":"15","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/services/chat.js":"16"},{"size":507,"mtime":1635216823383,"results":"17","hashOfConfig":"18"},{"size":191,"mtime":1635215974506,"results":"19","hashOfConfig":"18"},{"size":747,"mtime":1635216823383,"results":"20","hashOfConfig":"18"},{"size":880,"mtime":1635215974506,"results":"21","hashOfConfig":"18"},{"size":1739,"mtime":1635217167866,"results":"22","hashOfConfig":"18"},{"size":329,"mtime":1635215974506,"results":"23","hashOfConfig":"18"},{"size":351,"mtime":1635215974506,"results":"24","hashOfConfig":"18"},{"size":1022,"mtime":1635216823383,"results":"25","hashOfConfig":"18"},{"size":4944,"mtime":1635216823379,"results":"26","hashOfConfig":"18"},{"size":1621,"mtime":1635216823379,"results":"27","hashOfConfig":"18"},{"size":404,"mtime":1635216823379,"results":"28","hashOfConfig":"18"},{"size":2720,"mtime":1635233273054,"results":"29","hashOfConfig":"18"},{"size":4298,"mtime":1635232947708,"results":"30","hashOfConfig":"18"},{"size":1219,"mtime":1635233146028,"results":"31","hashOfConfig":"18"},{"size":4950,"mtime":1635322368871,"results":"32","hashOfConfig":"18"},{"size":1234,"mtime":1635233234678,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"12wseok",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/index.js",[],["71","72"],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/App.js",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/store.js",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/reducers/index.js",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/router/index.js",["73"],"import React from \"react\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport LoadingBar from \"container/layout/loadingbar\";\nimport { useSelector } from \"react-redux\";\nimport AuthScreen from \"container/screens/Auth\";\nimport ChatZone from \"container/screens/Chat\";\n// import ChatScreen from \"container/screens/Chats\";\n\nexport const PRIVATE_ROUTER = [];\nexport const PUBLIC_ROUTER = [\n  { exact: true, path: \"/\", component: ChatZone },\n];\nfunction FadingRoute({ component: Component, myprops = null, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(routeProps) => <Component {...routeProps} myprops={myprops} />}\n    />\n  );\n}\nconst publicRouter = PUBLIC_ROUTER.map(({ exact, path, component }, key) => (\n  <FadingRoute\n    exact={exact}\n    path={path}\n    component={component}\n    key={key}\n  ></FadingRoute>\n));\n\nconst RouterCenter = () => {\n  // const path = window.location.pathname;\n  // const inAuthScreen = path.includes(\"/auth\");\n  const loading = useSelector((state) => state.isLoading);\n  const isAuth = useSelector((state) => state.isAuth);\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <LoadingBar load={loading} />\n      <div className=\"cs-main-body\">\n        <Switch>\n          {/* {!isAuth ? (\n            <Redirect exact from=\"/\" to=\"/auth/sign-in\" />\n          ) : (\n            <Redirect exact from=\"/\" to=\"/chatroom\" />\n          )} */}\n          {publicRouter}\n          {!isAuth && (\n            <FadingRoute\n              exact={true}\n              path=\"/auth/:type?/:from?\"\n              component={AuthScreen}\n            ></FadingRoute>\n          )}\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default RouterCenter;\n","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/actions/index.js",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/layout/loadingbar.jsx",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Chat/index.jsx",["74"],"import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { getUserService } from \"redux/services/chat\";\nimport Conversations from \"./components/Conversations\";\nimport UsersList from \"./components/Users\";\n\nconst ChatZone = () => {\n  const [users, setUsers] = useState();\n  const [conversation, setConversation] = useState(\"general\");\n\n  useEffect(() => {\n    var objDiv = document.getElementById(\"chat-box-contain\");\n    objDiv.scrollTop = objDiv.scrollHeight;\n  }, []);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(\n      getUserService({\n        callback: (res, err) => {\n          if (!err) {\n            setUsers(res);\n          }\n        },\n      })\n    );\n  }, []);\n\n  const handleUser = (user) => {\n    setConversation(user);\n  };\n\n  return (\n    <div className=\"cs-chatroom\" id=\"cs-chatroom\">\n      <UsersList users={users} handleUser={handleUser} />\n      <Conversations conversation={conversation} />\n    </div>\n  );\n};\n\nexport default ChatZone;\n","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Auth/index.jsx",["75"],"import React, { useState } from \"react\";\nimport githubIcon from \"./github.svg\";\nimport { useDispatch } from \"react-redux\";\nimport { validateValue } from \"container/common/utils\";\nimport { loginService, signUpService } from \"redux/services\";\nimport { useHistory, useParams } from \"react-router\";\nconst AuthScreen = () => {\n  const [userInfo, setUserInfo] = useState({\n    lastName: \"\",\n    firstName: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const [verify, setVerify] = useState({\n    email: false,\n    password: false,\n  });\n  const [errMess, setErrMess] = useState(\"\");\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { type, from } = useParams();\n  const handleChange = (event) => {\n    setUserInfo({\n      ...userInfo,\n      [event.target.name]: event.target.value,\n    });\n    checkVerify(event);\n  };\n  const submitAuth = (e) => {\n    e.preventDefault();\n    let body = {\n      email: userInfo.email,\n      password: userInfo.password,\n      callback: (success) => {\n        if (success === true) {\n          if (from) {\n            history.push(`/forum/${from}`);\n          } else {\n            history.push(\"/chatroom\");\n          }\n        } else {\n          setErrMess(success);\n        }\n      },\n    };\n    if (type === \"sign-in\") {\n      dispatch(loginService(body));\n    } else if (type === \"sign-up\") {\n      body.last_name = userInfo.lastName;\n      body.first_name = userInfo.firstName;\n      dispatch(signUpService(body));\n    }\n  };\n  const checkVerify = (event) => {\n    let test = validateValue(event.target.value, event.target.name);\n    setVerify({\n      ...verify,\n      [event.target.name]: test,\n    });\n  };\n  return (\n    <div className=\"cs-auth\">\n      <h2>CS Technology</h2>\n      <div className=\"container\" id=\"container\">\n        <div\n          className=\"form-container sign-in-container\"\n          hidden={type === \"sign-in\"}\n        >\n          <form>\n            <h1>Create Account</h1>\n            <div className=\"social-container\">\n              <a href=\"/\" className=\"social\">\n                <img src={githubIcon} alt=\"\" />\n              </a>\n              <a href=\"/\" className=\"social\">\n                <img src={githubIcon} alt=\"\" />\n              </a>\n              <a href=\"/\" className=\"social\">\n                <img src={githubIcon} alt=\"\" />\n              </a>\n            </div>\n            <span>or use your email for registration</span>\n            <input type=\"text\" placeholder=\"Name\" />\n            <input type=\"email\" placeholder=\"Email\" />\n            <input type=\"password\" placeholder=\"Password\" />\n            <button>Sign Up</button>\n          </form>\n        </div>\n        <div\n          className=\"form-container sign-in-container\"\n          hidden={type === \"sign-up\"}\n        >\n          <form>\n            <h1>Sign in</h1>\n            <div className=\"social-container\">\n              <a href=\"/\" className=\"social\">\n                <img src={githubIcon} alt=\"\" />\n              </a>\n              <a href=\"/\" className=\"social\">\n                <img src={githubIcon} alt=\"\" />\n              </a>\n              <a href=\"/\" className=\"social\">\n                <img src={githubIcon} alt=\"\" />\n              </a>\n            </div>\n            <span>or use your account</span>\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={userInfo.email}\n              onChange={handleChange}\n              name=\"email\"\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              value={userInfo.password}\n              onChange={handleChange}\n            />\n            <a href=\"/\">Forgot your password?</a>\n            <button onClick={submitAuth}>Sign In</button>\n          </form>\n        </div>\n        <div className=\"overlay-container\">\n          <div className=\"overlay\">\n            {type === \"sign-in\" ? (\n              <div className=\"overlay-panel overlay-right\">\n                <h1>Hello, Friend!</h1>\n                <p>Enter your personal details and start journey with us</p>\n                <button\n                  className=\"ghost\"\n                  id=\"signUp\"\n                  onClick={() => history.push(\"/auth/sign-up\")}\n                >\n                  Sign Up\n                </button>\n              </div>\n            ) : (\n              <div className=\"overlay-panel overlay-right\">\n                <h1>Welcome Back!</h1>\n                <p>\n                  To keep connected with us please login with your personal info\n                </p>\n                <button\n                  className=\"ghost\"\n                  id=\"signIn\"\n                  onClick={() => history.push(\"/auth/sign-in\")}\n                >\n                  Sign In\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthScreen;\n","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/common/utils.js",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/layout/Element.jsx",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/services/index.js",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/common/callApi.js",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Chat/components/Users.jsx",[],"/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/container/screens/Chat/components/Conversations.jsx",["76"],"import { TextareaAutosize } from \"@material-ui/core\";\nimport { convertTime } from \"container/common/utils\";\nimport { LoadingSpin } from \"container/layout/Element\";\nimport { EmojiPickerMemo } from \"container/layout/Element\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getMessService, sendMessService } from \"redux/services/chat\";\nimport socketIOClient from \"socket.io-client\";\nconst ENDPOINT = \"http://127.0.0.1:5000\";\n\nconst Conversations = ({ conversation }) => {\n  const [listMess, setListMess] = useState([]);\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    const socket = socketIOClient(ENDPOINT);\n    socket.on(\"connect\", (res) => console.log(\"hello server\", res));\n    socket.emit('message', \"message\");\n  }, []);\n\n  const handleEmoji = () => {\n    setShowEmoji(() => !showEmoji);\n  };\n  const pickEmoji = async (e) => {\n    let sym = e.unified.split(\"-\");\n    let codesArray = [];\n    sym.forEach((el) => codesArray.push(\"0x\" + el));\n    let emoji = String.fromCodePoint(...codesArray);\n    setMessage(() => message + emoji);\n  };\n  useEffect(() => {\n    if (showEmoji) {\n      document\n        .querySelector(\".cs-chatroom\")\n        .addEventListener(\"click\", (event) => {\n          const parent = document.querySelector(\".emoji-mart\");\n          if (showEmoji && !parent.contains(event.target)) {\n            setShowEmoji(false);\n          }\n        });\n    }\n  }, [showEmoji]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(\n      getMessService({\n        id: conversation._id,\n        callback: (res, err) => {\n          if (!err) {\n            setListMess(res.messages);\n            console.log(res);\n            console.log(res.messages);\n          }\n        },\n      })\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [conversation._id]);\n  const sendMess = () => {\n    dispatch(\n      sendMessService({\n        to: conversation._id,\n        text: message,\n        callback: (res, err) => {\n          if (!err) {\n            setListMess(res.messages);\n            setMessage(\"\");\n          }\n        },\n      })\n    );\n  };\n  const handleType = (e) => {\n    setMessage(e.target.value);\n  };\n  const handleKeyEvent = (event) => {\n    if (event.key === \"Enter\") {\n      if (event.shiftKey) {\n        setMessage(message + \"\\n\");\n      } else {\n        event.preventDefault();\n        sendMess();\n      }\n    }\n  };\n  const groupTime = () => {};\n  const isLoading = useSelector((state) => state.isLoading);\n  return (\n    <div className=\"cs-chat-right\">\n      {/* {JSON.stringify(listMess)} */}\n      <div className=\"cs-chat-box-head\">\n        {conversation === \"general\" ? (\n          <div>\n            <h5>#GENERAL</h5>\n          </div>\n        ) : (\n          <div>\n            <div className=\"cs-avt\">\n              <span>CS</span>\n            </div>\n            <h5>{conversation.lastname + \" \" + conversation.firstname}</h5>\n            <span className=\"cs-avt-status\"></span>\n          </div>\n        )}\n        <div className=\"cs-chat-icons-tool\">\n          <i className=\"fi-rr-search\"></i>\n          <i className=\"fi-rr-video-camera\"></i>\n          <i className=\"fi-rr-user\"></i>\n          <i className=\"fi-rr-menu-dots\"></i>\n        </div>\n      </div>\n      <div className=\"cs-chat-box-contain \" id=\"chat-box-contain\">\n        {/* <div className={`cs-avt ${i % 3 === 0 ? \" cs-hidden-avt\" : \"\"}`}> */}\n        {isLoading ? (\n          <LoadingSpin />\n        ) : (\n          listMess.map((i) => (\n            <div\n              className={`cs-message ${\n                i.to === conversation._id ? \" cs-m-end\" : \"\"\n              }`}\n            >\n              <div className={`cs-avt`}>\n                <span>CS</span>\n              </div>\n              <div>\n                <p style={{ whiteSpace: \"pre-line\" }}>{i.text}</p>\n                <i>{convertTime(i?.date)}</i>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n      <div className=\"cs-chat-box-type cs-chat-box-head\">\n        <div>\n          <TextareaAutosize\n            aria-label=\"empty textarea\"\n            placeholder=\"Enter message...\"\n            value={message}\n            onChange={handleType}\n            onKeyPress={handleKeyEvent}\n            // onKeyDown={sendMess}\n          />\n        </div>\n        <div className=\"cs-chat-icons-tool\">\n          <i style={{ fontStyle: \"normal\" }} onClick={handleEmoji}>\n            ðŸ™‚\n          </i>\n          <i className=\"fi-rr-picture\"></i>\n          <i className=\"fi-rr-clip\"></i>\n          <button onClick={sendMess}>\n            <i className=\"fi-rr-paper-plane\"></i>\n          </button>\n        </div>\n      </div>\n      <div className=\"cs-emoji-list\" hidden={!showEmoji}>\n        <EmojiPickerMemo onClick={pickEmoji} />\n      </div>\n    </div>\n  );\n};\n\nexport default Conversations;\n","/home/phucvinh/Documents/DEV-CONNECT/cs-social-blog/src/redux/services/chat.js",[],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":2,"column":25,"nodeType":"83","messageId":"84","endLine":2,"endColumn":33},{"ruleId":"85","severity":1,"message":"86","line":26,"column":6,"nodeType":"87","endLine":26,"endColumn":8,"suggestions":"88"},{"ruleId":"81","severity":1,"message":"89","line":18,"column":10,"nodeType":"83","messageId":"84","endLine":18,"endColumn":17},{"ruleId":"81","severity":1,"message":"90","line":87,"column":9,"nodeType":"83","messageId":"84","endLine":87,"endColumn":18},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["93"],"'errMess' is assigned a value but never used.","'groupTime' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"94","fix":"95"},"Update the dependencies array to be: [dispatch]",{"range":"96","text":"97"},[733,735],"[dispatch]"]